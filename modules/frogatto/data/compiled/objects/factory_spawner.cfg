{
	"animation": {
		"duration": -1,
		"frames": 1,
		"h": 28,
		"id": "normal",
		"image": "effects/particles.png",
		"w": 28,
		"x": 86,
		"y": 73
	},
	"editor_info": {
		"category": "enemies, milgramen",
		"var": [
			{
				"name": "zone_x1",
				"type": "x",
				"value": "x - 300"
			},
			{
				"name": "zone_x2",
				"type": "x",
				"value": "x + 400"
			},
			{
				"name": "zone_y1",
				"type": "y",
				"value": "y"
			},
			{
				"name": "zone_y2",
				"type": "y",
				"value": "y + 400"
			},
			{
				"name": "max_objects",
				"value": 3
			},
			{
				"name": "generation_time",
				"value": 150
			},
			{
				"enum_values": "kitty_spear,factory_spawner.factory_kitty_head,factory_spawner.factory_spear",
				"name": "spawn_type",
				"type": "enum",
				"value": "'kitty_spear'"
			}
		]
	},
	"hidden_in_game": true,
	"id": "factory_spawner",
	"object_type": [
		{
			"animation": [
				{
					"accel_x": 0,
					"accel_y": 80,
					"duplicates": 6,
					"duration": 10,
					"frames": 1,
					"id": "normal",
					"image": "enemies/kitty-factory-parts.png",
					"rect": [1,1,26,23]
				},
				{
					"accel_x": 0,
					"accel_y": 80,
					"duration": 10,
					"frames": 1,
					"id": "normal",
					"image": "enemies/kitty-factory-parts.png",
					"rect": [30,1,55,23]
				}
			],
			"feet_width": 10,
			"friction": 1000,
			"id": "factory_kitty_head",
			"on_end_anim": "animation('normal')",
			"prototype": ["hittable"],
			"solid_area": [1,1,26,23],
			"solid_dimensions": [],
			"traction": 1000,
			"zsub_order": -1
		},
		{
			"animation": [
				{
					"accel_x": 0,
					"accel_y": 80,
					"duration": 10,
					"frames": 1,
					"id": "normal",
					"image": "enemies/kitty-factory-parts.png",
					"rect": [1,27,34,35]
				}
			],
			"feet_width": 10,
			"friction": 1000,
			"id": "factory_spear",
			"on_end_anim": "animation('normal')",
			"prototype": ["hittable"],
			"solid_area": [1,1,34,8],
			"solid_dimensions": [],
			"traction": 1000,
			"zsub_order": -1
		}
	],
	"on_child_spawned": "[
	  remove_object(child),
	  set(attached_objects, [child]),
	  set(tmp.spawning, child),
	  set(child.zorder,-20),
	]",
	"on_create": "set(activation_border, act_B)",
	"on_process": "[
	  set(vars.spawned_objects, filter(vars.spawned_objects, (not value.vars.removed) and value.hitpoints > 0)),
	  if(vars.max_objects > 0, [
		if(size(vars.spawned_objects) < vars.max_objects,
			add(generation_counter, 1),
			set(generation_counter, 0)),
		if(generation_counter >= 5 and tmp.spawning,
			[set(attached_objects, []), set(tmp.spawning, null),
			set(tmp.spawning.velocity_y, -50),
			schedule(10,set(tmp.spawning.zorder,0)),
			add(vars.spawned_objects, [tmp.spawning]),
			add_object(tmp.spawning)]),
		if(generation_counter >= generation_time,
			[spawn(spawn_type, midpoint_x, midpoint_y, facing, [set(child.activation_border, act_B),animation('normal')]),
			set(generation_counter, 0)])],
		if(size(attached_objects) > 0, [
			transform(range(attached_objects[0].y, attached_objects[0].y-10), set(attached_objects.y, v)),
			schedule(10, [remove_object(attached_objects[0]), set(attached_objects, [])])
			]))
	  ]",
	"properties": {
		"act_B": "max(zone_width, zone_height)*2",
		"zone_height": "abs(zone_y2 - zone_y1)",
		"zone_width": "abs(zone_x2 - zone_x1)"
	},
	"tmp": {
		"spawning": null
	},
	"vars": {
		"generation_counter": 0,
		"generation_time": null,
		"max_objects": null,
		"spawn_type": null,
		"spawned_objects": [],
		"zone_x1": null,
		"zone_x2": null,
		"zone_y1": null,
		"zone_y2": null
	},
	"zorder": -20
}