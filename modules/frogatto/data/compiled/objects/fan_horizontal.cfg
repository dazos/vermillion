{
	"affected_by_currents": false,
	"animation": [
		{
			"duration": 2,
			"frame_info": [7,6,7,0,912,777,18,42,7,6,7,0,930,777,18,42,7,6,7,0,948,777,18,42,7,6,7,0,966,777,18,42],
			"frames": 4,
			"id": "on",
			"image": "compiled-1.png",
			"rect": [905,771,936,818]
		},
		{
			"duration": 200,
			"frame_info": [7,6,7,0,1006,274,18,42],
			"frames": 1,
			"id": "off",
			"image": "compiled-1.png",
			"rect": [999,268,1030,315]
		}
	],
	"editor_info": {
		"category": "props",
		"var": [
			{
				"name": "running",
				"type": "boolean",
				"value": 1
			},
			{
				"name": "zone_x1",
				"type": "x",
				"value": "if(facing > 0, x2, x-300)"
			},
			{
				"name": "zone_x2",
				"type": "x",
				"value": "if(facing > 0, x2+300, x)"
			},
			{
				"name": "zone_y1",
				"type": "y",
				"value": "y+7"
			},
			{
				"name": "zone_y2",
				"type": "y",
				"value": "y2"
			},
			{
				"name": "strength",
				"value": 100
			},
			{
				"name": "current_vel_x",
				"value": 300
			},
			{
				"name": "current_vel_y",
				"value": 0
			}
		]
	},
	"has_feet": false,
	"id": "fan_horizontal",
	"on_button_pressed": "[spawn_sfx_gnrtr(), set(vars.running, true),animation('on'),set(particles.spawn_rate,3000),		set(current_generator, rect_current(min(zone_x1, zone_x2), min(zone_y1, zone_y2) ,abs(zone_x1 - zone_x2) ,abs(zone_y1 - zone_y2) , current_vel_x * facing, current_vel_y, strength*10))]",
	"on_button_released": "[stop_sfx_gnrtr(),set(vars.running, no),animation('off'),set(particles.spawn_rate,0),set(current_generator, null )]",
	"on_create": "[if(vars.running = 1, schedule(1,fire_event('button_pressed')), schedule(1,fire_event('button_released'))),
		add_particles('particles'),
		fire_event('setup_particles')]",
	"on_end_off_anim": "animation('off')",
	"on_end_on_anim": "animation('on')",
	"on_setup_particles": "[
			set(particles.velocity_x, facing * current_vel_x*10),
			set(particles.velocity_y, current_vel_y*10),
			set(particles.min_x, min(zone_x1, zone_x2) - x),
			set(particles.max_x, max(zone_x1, zone_x2) - x),
			set(particles.min_y, min(zone_y1, zone_y2) - y),
			set(particles.max_y, max(zone_y1, zone_y2) - y)
		]",
	"on_start_level": "set_actB()",
	"particle_system": {
		"animation": {
			"accel_y": -1,
			"duration": 10,
			"frame_info": [2,1,1,2,1018,143,1,1,1,1,2,2,1019,143,1,1,1,2,2,1,1020,143,1,1,2,2,1,1,1021,143,1,1,2,1,1,2,1022,143,1,1],
			"frames": 5,
			"id": "sparkle",
			"image": "compiled-1.png",
			"rect": [1016,142,1019,145],
			"scale": 2
		},
		"id": "particles",
		"spawn_rate": 3000,
		"time_to_live": 50,
		"type": "simple"
	},
	"properties": {
		"set_actB": "def() set(activation_border,max(abs(zone_x1 - zone_x2), abs(zone_y1 - zone_y2))*1.5)",
		"spawn_sfx_gnrtr": "def() if(not vars.sfx,
			spawn('sfx_falloff_generator',midpoint_x,midpoint_y,1,[set(effect_name,'ambient/fan.ogg'),set(x_bound,x-50),set(x2_bound,x+50),set(y_bound,y-50),set(y2_bound,y+50),set(self.vars.sfx, child)]))",
		"stop_sfx_gnrtr": "def()
			if(vars.sfx, [remove_object(vars.sfx),set(vars.sfx, null)])"
	},
	"solid_area": [7,6,24,47],
	"vars": {
		"current_vel_x": null,
		"current_vel_y": null,
		"running": null,
		"strength": null,
		"zone_x1": null,
		"zone_x2": null,
		"zone_y1": null,
		"zone_y2": null
	},
	"zorder": 4
}